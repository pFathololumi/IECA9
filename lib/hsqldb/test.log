/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
drop table instr_offer if exists
drop table instrument if exists
drop table offering if exists
drop table role_customer if exists
drop table role if exists
drop table customer if exists
drop table transaction if exists
create table customer (    id varchar(80) not null,    name varchar(80) not null,    family varchar(80) not null,    balance bigint not null,    primary key (id))
INSERT INTO CUSTOMER VALUES('1','admin','password',1000000)
COMMIT
create table role (    name varchar(80) not null,    deposit boolean not null,    transaction boolean not null,    confdeposit boolean not null,    conftransact boolean not null,    addsymbol boolean not null,    transactlimit boolean not null,    confnewsymbol boolean not null,    report boolean not null,    rolemanager boolean not null,    userprofiles boolean not null,    backup boolean not null,    primary key (name))
INSERT INTO ROLE VALUES('admin',TRUE,TRUE,TRUE,TRUE,TRUE,TRUE,TRUE,TRUE,TRUE,TRUE,TRUE)
COMMIT
INSERT INTO ROLE VALUES('typical',TRUE,TRUE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE)
COMMIT
INSERT INTO ROLE VALUES('officer',FALSE,FALSE,TRUE,TRUE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE)
COMMIT
INSERT INTO ROLE VALUES('owner',FALSE,FALSE,FALSE,FALSE,TRUE,FALSE,FALSE,FALSE,FALSE,FALSE,FALSE)
COMMIT
create table role_customer (\u000a    customer_id varchar(80) not null,    role_name varchar(80) not null,    primary key (customer_id,role_name),    constraint custom_id_fk foreign key(customer_id) references customer(id) on delete cascade,    constraint role_name_fk foreign key(role_name) references role(name) on delete cascade)
INSERT INTO ROLE_CUSTOMER VALUES('1','admin')
COMMIT
create table instrument (    customer_id varchar(80) not null,    symbol varchar(100) not null,    quantity bigint not null,    primary key (customer_id,symbol),    constraint customer_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table offering(    db_id bigint IDENTITY PRIMARY KEY,    customer_id varchar(80) not null,    price bigint not null,    quantity bigint not null,    type varchar(30) not null,    kind integer not null,    constraint custome_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table instr_offer(    instr_cust_id varchar(80) not null,    instr_symbol varchar(100) not null,    offer_id bigint not null,    primary key (instr_cust_id, instr_symbol, offer_id ),    constraint instr_fk foreign key(instr_cust_id, instr_symbol) references instrument(customer_id,symbol) on delete cascade,    constraint offer_id_fk foreign key(offer_id) references offering(db_id) on delete cascade)
create table transaction(    tr_id bigint IDENTITY PRIMARY KEY,    buyer varchar(80) not null,    seller varchar(80) not null,    instrument varchar(80) not null,    typeOfTrade varchar(80) not null,    quantity bigint not null,    price bigint not null,    tTime date default now)
DISCONNECT
